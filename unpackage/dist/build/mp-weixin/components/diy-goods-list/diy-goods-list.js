(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/diy-goods-list/diy-goods-list"],{"5b79":function(e,t,o){"use strict";o.r(t);var n=o("b89f"),i=o.n(n);for(var a in n)"default"!==a&&function(e){o.d(t,e,(function(){return n[e]}))}(a);t["default"]=i.a},"6ea2":function(e,t,o){"use strict";var n=o("bf0f"),i=o.n(n);i.a},add7:function(e,t,o){"use strict";var n;o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return a})),o.d(t,"a",(function(){return n}));var i=function(){var e=this,t=e.$createElement,o=(e._self._c,"diy"==e.value.goodsTag?e.$util.img(e.value.tagImg.imageUrl):null),n=e.$lang("common.currencySymbol"),i=e.__map(e.goodsList,(function(t,o){var n=e.__get_orig(t),i=e.goodsImg(t.goods_image),a="default"==e.value.goodsTag&&""!=e.goodsTag(t),r=a?e.goodsTag(t):null,u=t.member_price&&t.member_price==e.showPrice(t),s=u?e.$util.img("upload/uniapp/index/VIP.png"):null,d=u||1!=t.promotion_type?null:e.$util.img("upload/uniapp/index/discount.png");return{$orig:n,m0:i,m1:a,m2:r,m4:u,g1:s,g2:d}}));e.$mp.data=Object.assign({},{$root:{g0:o,m3:n,l0:i}})},a=[]},b89f:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o("a34a")),i=a(o("a5a8"));function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n,i,a,r){try{var u=e[a](r),s=u.value}catch(d){return void o(d)}u.done?t(s):Promise.resolve(s).then(n,i)}function u(e){return function(){var t=this,o=arguments;return new Promise((function(n,i){var a=e.apply(t,o);function u(e){r(a,n,i,u,s,"next",e)}function s(e){r(a,n,i,u,s,"throw",e)}u(void 0)}))}}var s={name:"diy-goods-list",props:{value:{type:Object,default:function(){return{}}},siteId:{type:[Number,String],default:0},name:{type:String,default:function(){return""}}},mixins:[i.default],data:function(){return{goodsList:[],is_wholesaler:3}},created:function(){console.log("========="),console.log(e.getStorageSync("is_wholesaler")),e.getStorageSync("is_wholesaler")&&(this.is_wholesaler=e.getStorageSync("is_wholesaler")),this.getGoodsList()},onLoad:function(){},methods:{getGoodsList:function(){var t=this;return u(n.default.mark((function o(){var i,a;return n.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!e.getStorageSync("token")){o.next=5;break}return o.next=3,t.$api.sendRequest({url:"/api/member/detail",async:!1});case 3:i=o.sent,0==i.code&&console.log(i);case 5:a={page:1,page_size:t.value.goodsCount},"DIY_VIEW_CITY_INDEX"==t.name&&t.siteId?a.website_id=t.siteId:a.site_id=t.siteId,"category"==t.value.sources?(a.category_id=t.value.categoryId,a.category_level=1):"diy"==t.value.sources&&(a.page_size=0,a.goods_id_arr=t.value.goodsId.toString()),t.$api.sendRequest({url:"/api/goodssku/page",data:a,success:function(e){if(0==e.code&&e.data){var o=e.data;t.goodsList=o.list}}});case 9:case"end":return o.stop()}}),o)})))()},toDetail:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e.sku_id})},goodsImg:function(e){var t=e.split(",");return t[0]?this.$util.img(t[0],{size:"mid"}):this.$util.getDefaultImage().default_goods_img},imgError:function(e){this.goodsList[e].goods_image=this.$util.getDefaultImage().default_goods_img},showPrice:function(e){var t=e.discount_price;return e.member_price&&parseFloat(e.member_price)<parseFloat(t)&&(t=e.member_price),t},goodsTag:function(e){switch(e.recommend_way){case 1:return"新品";case 2:return"精品";case 3:return"推荐";default:return""}}}};t.default=s}).call(this,o("543d")["default"])},bf0f:function(e,t,o){},cebf:function(e,t,o){"use strict";o.r(t);var n=o("add7"),i=o("5b79");for(var a in i)"default"!==a&&function(e){o.d(t,e,(function(){return i[e]}))}(a);o("6ea2");var r,u=o("f0c5"),s=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,"6fa78df4",null,!1,n["a"],r);t["default"]=s.exports}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/diy-goods-list/diy-goods-list-create-component',
    {
        'components/diy-goods-list/diy-goods-list-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("cebf"))
        })
    },
    [['components/diy-goods-list/diy-goods-list-create-component']]
]);
