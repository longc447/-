(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/diy-goods-list/diy-goods-list"],{"3da0":function(e,t,o){"use strict";var n;o.d(t,"b",(function(){return a})),o.d(t,"c",(function(){return i})),o.d(t,"a",(function(){return n}));var a=function(){var e=this,t=e.$createElement,o=(e._self._c,"diy"==e.value.goodsTag?e.$util.img(e.value.tagImg.imageUrl):null),n=e.$lang("common.currencySymbol"),a=e.__map(e.goodsList,(function(t,o){var n=e.__get_orig(t),a=e.goodsImg(t.goods_image),i="default"==e.value.goodsTag&&""!=e.goodsTag(t),r=i?e.goodsTag(t):null,u=t.member_price&&t.member_price==e.showPrice(t),s=u?e.$util.img("upload/uniapp/index/VIP.png"):null,d=u||1!=t.promotion_type?null:e.$util.img("upload/uniapp/index/discount.png");return{$orig:n,m0:a,m1:i,m2:r,m4:u,g1:s,g2:d}}));e.$mp.data=Object.assign({},{$root:{g0:o,m3:n,l0:a}})},i=[]},"5b79":function(e,t,o){"use strict";o.r(t);var n=o("b89f"),a=o.n(n);for(var i in n)"default"!==i&&function(e){o.d(t,e,(function(){return n[e]}))}(i);t["default"]=a.a},"77aa":function(e,t,o){},"8de4":function(e,t,o){"use strict";var n=o("77aa"),a=o.n(n);a.a},b89f:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o("a34a")),a=r(o("a5a8")),i=r(o("2009"));function r(e){return e&&e.__esModule?e:{default:e}}function u(e,t,o,n,a,i,r){try{var u=e[i](r),s=u.value}catch(d){return void o(d)}u.done?t(s):Promise.resolve(s).then(n,a)}function s(e){return function(){var t=this,o=arguments;return new Promise((function(n,a){var i=e.apply(t,o);function r(e){u(i,n,a,r,s,"next",e)}function s(e){u(i,n,a,r,s,"throw",e)}r(void 0)}))}}var d={name:"diy-goods-list",props:{value:{type:Object,default:function(){return{}}},siteId:{type:[Number,String],default:0},name:{type:String,default:function(){return""}}},mixins:[a.default],data:function(){return{goodsList:[],is_wholesaler:i.default.is_wholesaler}},created:function(){console.log("========="),console.log(e.getStorageSync("is_wholesaler")),e.getStorageSync("is_wholesaler")&&(this.is_wholesaler=e.getStorageSync("is_wholesaler")),this.getGoodsList()},onLoad:function(){},methods:{getGoodsList:function(){var t=this;return s(n.default.mark((function o(){var a,i;return n.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!e.getStorageSync("token")){o.next=5;break}return o.next=3,t.$api.sendRequest({url:"/api/member/detail",async:!1});case 3:a=o.sent,0==a.code&&console.log(a);case 5:i={page:1,page_size:t.value.goodsCount},"DIY_VIEW_CITY_INDEX"==t.name&&t.siteId?i.website_id=t.siteId:i.site_id=t.siteId,"category"==t.value.sources?(i.category_id=t.value.categoryId,i.category_level=1):"diy"==t.value.sources&&(i.page_size=0,i.goods_id_arr=t.value.goodsId.toString()),t.$api.sendRequest({url:"/api/goodssku/page",data:i,success:function(e){if(0==e.code&&e.data){var o=e.data;t.goodsList=o.list}}});case 9:case"end":return o.stop()}}),o)})))()},toDetail:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e.sku_id})},goodsImg:function(e){var t=e.split(",");return t[0]?this.$util.img(t[0],{size:"mid"}):this.$util.getDefaultImage().default_goods_img},imgError:function(e){this.goodsList[e].goods_image=this.$util.getDefaultImage().default_goods_img},showPrice:function(e){var t=e.discount_price;return e.member_price&&parseFloat(e.member_price)<parseFloat(t)&&(t=e.member_price),t},goodsTag:function(e){switch(e.recommend_way){case 1:return"新品";case 2:return"精品";case 3:return"推荐";default:return""}}}};t.default=d}).call(this,o("543d")["default"])},cebf:function(e,t,o){"use strict";o.r(t);var n=o("3da0"),a=o("5b79");for(var i in a)"default"!==i&&function(e){o.d(t,e,(function(){return a[e]}))}(i);o("8de4");var r,u=o("f0c5"),s=Object(u["a"])(a["default"],n["b"],n["c"],!1,null,"5ca011e4",null,!1,n["a"],r);t["default"]=s.exports}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/diy-goods-list/diy-goods-list-create-component',
    {
        'components/diy-goods-list/diy-goods-list-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("cebf"))
        })
    },
    [['components/diy-goods-list/diy-goods-list-create-component']]
]);
