(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/diy-live/diy-live"],{"1fe0":function(e,i,n){"use strict";var t;n.d(i,"b",(function(){return o})),n.d(i,"c",(function(){return a})),n.d(i,"a",(function(){return t}));var o=function(){var e=this,i=e.$createElement,n=(e._self._c,e.liveInfo&&void 0!=e.liveInfo.roomid&&""!=e.liveInfo.banner?e.$util.img(e.liveInfo.banner):null),t=e.liveInfo&&void 0!=e.liveInfo.roomid&&""==e.liveInfo.banner?e.$util.img("upload/uniapp/live_default_banner.png"):null,o=e.liveInfo&&void 0!=e.liveInfo.roomid&&(e.value.isShowAnchorInfo||e.value.isShowLiveGood)&&e.value.isShowAnchorInfo&&""!=e.liveInfo.anchor_img?e.$util.img(e.liveInfo.anchor_img):null,a=e.liveInfo&&void 0!=e.liveInfo.roomid&&(e.value.isShowAnchorInfo||e.value.isShowLiveGood)&&e.value.isShowAnchorInfo&&""==e.liveInfo.anchor_img?e.$util.getDefaultImage():null;e._isMounted||(e.e0=function(i){e.liveInfo.banner=e.$util.img("upload/uniapp/live_default_banner.png")},e.e1=function(i){e.liveInfo.anchor_img=e.$util.getDefaultImage().default_headimg}),e.$mp.data=Object.assign({},{$root:{g0:n,g1:t,g2:o,g3:a}})},a=[]},"370b":function(e,i,n){"use strict";var t=n("581d"),o=n.n(t);o.a},"4c67":function(e,i,n){"use strict";n.r(i);var t=n("1fe0"),o=n("e094");for(var a in o)"default"!==a&&function(e){n.d(i,e,(function(){return o[e]}))}(a);n("370b"),n("bfec");var u,l=n("f0c5"),f=Object(l["a"])(o["default"],t["b"],t["c"],!1,null,"7b32ea26",null,!1,t["a"],u);i["default"]=f.exports},"581d":function(e,i,n){},a0ba:function(e,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t={name:"diy-live",props:{value:{type:Object,default:function(){return{}}},siteId:{type:[Number,String],default:0}},data:function(){return{liveInfo:{banner:"",anchor_img:""}}},created:function(){this.getLiveInfo()},watch:{siteId:function(e,i){this.getLiveInfo()}},methods:{getLiveInfo:function(){var e=this,i={};this.siteId&&(i.site_id=this.siteId),this.$api.sendRequest({url:"/live/api/live/info",data:i,success:function(i){0==i.code&&i.data?(e.liveInfo=i.data,e.getLiveStatus()):e.liveInfo=null}})},entryRoom:function(e){wx.navigateTo({url:"plugin-private://wx2b03c6e691cd7370/pages/live-player-plugin?room_id=".concat(e)})},getLiveStatus:function(){var e=this,i=requirePlugin("live-player-plugin");i.getLiveStatus({room_id:this.liveInfo.roomid}).then((function(i){var n=i.liveStatus;n&&n!=e.liveInfo.live_status&&e.changeLiveStatus(n)})).catch((function(e){console.log("get live status",e)}));var n=setInterval((function(){i.getLiveStatus({room_id:e.liveInfo.roomid}).then((function(i){var t=i.liveStatus;t&&t!=e.liveInfo.live_status&&e.changeLiveStatus(t),e.$util.inArray(t,[103,104,106,107])&&clearInterval(n)})).catch((function(e){console.log("get live status",e)}))}),6e4)},changeLiveStatus:function(e){var i=this;this.$api.sendRequest({url:"/live/api/live/modifyLiveStatus",data:{room_id:this.liveInfo.roomid,status:e},success:function(e){0==e.code&&i.getLiveInfo()}})}}};i.default=t},b6fa:function(e,i,n){},bfec:function(e,i,n){"use strict";var t=n("b6fa"),o=n.n(t);o.a},e094:function(e,i,n){"use strict";n.r(i);var t=n("a0ba"),o=n.n(t);for(var a in t)"default"!==a&&function(e){n.d(i,e,(function(){return t[e]}))}(a);i["default"]=o.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/diy-live/diy-live-create-component',
    {
        'components/diy-live/diy-live-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("4c67"))
        })
    },
    [['components/diy-live/diy-live-create-component']]
]);
