{"version":3,"sources":["uni-app:///main.js","webpack:////Users/longchu/Documents/镜惠购/App.vue?837d","webpack:////Users/longchu/Documents/镜惠购/App.vue?aae5","uni-app:///App.vue","webpack:////Users/longchu/Documents/镜惠购/App.vue?2569","webpack:////Users/longchu/Documents/镜惠购/App.vue?2cfd"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","Vue","prototype","$store","store","config","productionTip","$util","Util","$api","Http","$langConfig","Lang","$lang","lang","$config","Config","App","mpType","component","loadingCover","nsEmpty","MescrollUni","MescrollBody","NsLogin","app","$mount"],"mappings":";;;;;;;;;iDAAA,wCAA8E;AAC9E;AACA;AACA;AACA;AACA;AACA,2F,wnCANmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;;;AASnBC,aAAIC,SAAJ,CAAcC,MAAd,GAAuBC,cAAvB,C,CAA6B;;AAE7BH,aAAII,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;;AAEAL,aAAIC,SAAJ,CAAcK,KAAd,GAAsBC,aAAtB;AACAP,aAAIC,SAAJ,CAAcO,IAAd,GAAqBC,aAArB;;AAEAT,aAAIC,SAAJ,CAAcS,WAAd,GAA4BC,aAA5B,C,CAAkC;AAClCX,aAAIC,SAAJ,CAAcW,KAAd,GAAsBD,cAAKE,IAA3B,C,CAAiC;;AAEjCb,aAAIC,SAAJ,CAAca,OAAd,GAAwBC,eAAxB;;AAEAC,aAAIC,MAAJ,GAAa,KAAb;;AAEA;;AAEAjB,aAAIkB,SAAJ,CAAc,eAAd,EAA+BC,YAA/B,E;;;AAGAnB,aAAIkB,SAAJ,CAAc,UAAd,EAA0BE,OAA1B,E;;;AAGApB,aAAIkB,SAAJ,CAAc,cAAd,EAA8BG,WAA9B,E,CAA4C;;;AAG5CrB,aAAIkB,SAAJ,CAAc,eAAd,EAA+BI,YAA/B,E;;;AAGAtB,aAAIkB,SAAJ,CAAc,UAAd,EAA0BK,OAA1B;;AAEA,IAAMC,GAAG,GAAG,IAAIxB,YAAJ;AACRgB,YADQ;AAEXb,OAAK,EAALA,cAFW,IAAZ;;;AAKA,UAAAqB,GAAG,EAACC,MAAJ,G;;;;;;;;;;;;;;;;;AC5CA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACuD;AACL;AACc;;;AAGhE;AACuM;AACvM,gBAAgB,iNAAU;AAC1B,EAAE,yEAAM;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAoxB,CAAgB,iyBAAG,EAAC,C;;;;;;;;;;;;ACCxyB;AACA,yF;AACA;AACA,yBADA;AAEA,UAFA,oBAEA,IAFA,EAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,KAFA;;AAIA;AACA;AACA,qBADA;AAEA,mCAFA;AAGA,eAHA,mBAGA,GAHA,EAGA;AACA;AACA;AACA;AACA;AACA,SARA;;AAUA,KAXA;;AAaA;AACA;AACA,KAFA;;;AAKA;AACA,mBADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA;AACA,kCADA;AAEA,oCAFA,EAFA;;;AAOA,OAjBA;;;AAoBA;;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA,yBADA;AAEA,4BAFA;AAGA,2BAHA;;AAKA;AACA,KARA;AASA,GA/EA;AAgFA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA,GA1HA;AA2HA;AACA;AACA,GA7HA;AA8HA;AACA;;;AAGA,aAJA,qBAIA,IAJA,EAIA;AACA;AACA,uBADA;AAEA,kBAFA;;;AAKA;;AAEA;AACA,8BADA;AAEA,kBAFA;AAGA;AACA;AACA;AACA,0BADA;AAEA,kCAFA;AAGA;AACA;AACA;AACA,eANA;;AAQA,WATA,MASA;AACA;AACA,4BADA;AAEA,qBAFA;AAGA,4CAHA;;AAKA;AACA,SApBA;;AAsBA,KAlCA,EA9HA,E;;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAA+8C,CAAgB,g6CAAG,EAAC,C;;;;;;;;;;ACAn+C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"common/main.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import Vue from 'vue'\r\nimport App from './App'\r\nimport store from './store'\r\nimport Util from './common/js/util.js'\r\nimport Http from './common/js/http.js'\r\nimport Lang from './common/js/lang.js'\r\nimport Config from './common/js/config.js'\r\n\r\n\r\nVue.prototype.$store = store //挂在vue\r\n\r\nVue.config.productionTip = false\r\n\r\nVue.prototype.$util = Util;\r\nVue.prototype.$api = Http;\r\n\r\nVue.prototype.$langConfig = Lang; //语言包对象\r\nVue.prototype.$lang = Lang.lang; //解析语言包\r\n\r\nVue.prototype.$config = Config;\r\n\r\nApp.mpType = 'app'\r\n\r\n//常用组件\r\nimport loadingCover from '@/components/loading-cover/loading-cover.vue';\r\nVue.component('loading-cover', loadingCover);\r\n\r\nimport nsEmpty from '@/components/ns-empty/ns-empty.vue';\r\nVue.component('ns-empty', nsEmpty);\r\n\r\nimport MescrollUni from \"@/components/mescroll/my-list-mescroll.vue\";\r\nVue.component(\"mescroll-uni\", MescrollUni); //上拉加载,下拉刷新组件\r\n\r\nimport MescrollBody from \"@/components/mescroll/mescroll-body.vue\"\r\nVue.component('mescroll-body', MescrollBody);\r\n\r\nimport NsLogin from \"@/components/ns-login/ns-login.vue\"\r\nVue.component('ns-login', NsLogin);\r\n\r\nconst app = new Vue({\r\n\t...App,\r\n\tstore\r\n})\r\n\r\napp.$mount()","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import mod from \"-!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"","<script>\r\nimport auth from 'common/js/auth.js';\r\nimport config from 'common/js/config.js';\r\nexport default {\r\n\tmixins: [auth],\r\n\tonLaunch(data) {\r\n\t\tif (uni.getStorageSync('baseUrl') != config.baseUrl) {\r\n\t\t\tuni.clearStorageSync();\r\n\t\t}\r\n\t\tuni.setStorageSync('baseUrl', config.baseUrl);\r\n\r\n\t\t// #ifdef MP\r\n\t\tconst updateManager = uni.getUpdateManager();\r\n\t\tupdateManager.onCheckForUpdate(function(res) {\r\n\t\t\t// 请求完新版本信息的回调\r\n\t\t});\r\n\r\n\t\tupdateManager.onUpdateReady(function(res) {\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '更新提示',\r\n\t\t\t\tcontent: '新版本已经准备好，是否重启应用？',\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t// 新的版本已经下载好，调用 applyUpdate 应用新版本并重启\r\n\t\t\t\t\t\tupdateManager.applyUpdate();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tupdateManager.onUpdateFailed(function(res) {\r\n\t\t\t// 新的版本下载失败\r\n\t\t});\r\n\t\t// #endif\r\n\r\n\t\tuni.getLocation({\r\n\t\t\ttype: 'gcj02',\r\n\t\t\tsuccess: res => {\r\n\t\t\t\tlet obj = uni.getStorageSync('location');\r\n\t\t\t\tif (obj) {\r\n\t\t\t\t\tlet a = this.$util.getDistance(obj.latitude, obj.longitude, res.latitude, res.longitude);\r\n\t\t\t\t\tif (a > 20) {\r\n\t\t\t\t\t\tuni.removeStorageSync('store');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tuni.setStorage({\r\n\t\t\t\t\tkey: 'location',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tlatitude: res.latitude,\r\n\t\t\t\t\t\tlongitude: res.longitude\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t//判断是否支持 获取本地位置\r\n\t\t// #ifdef H5\r\n\t\tif (navigator.geolocation) {\r\n\t\t\tvar n = navigator.geolocation.getCurrentPosition(function(res) {\r\n\t\t\t\tconsole.log(res); // 需要的坐标地址就在res中\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tconsole.log('该浏览器不支持定位');\r\n\t\t}\r\n\r\n\t\t// #endif\r\n\r\n\t\t// #ifdef H5\r\n\t\tif (uni.getSystemInfoSync().platform == 'ios') {\r\n\t\t\tuni.setStorageSync('initUrl', location.href);\r\n\t\t}\r\n\t\t// #endif\r\n\r\n\t\tuni.onNetworkStatusChange(function(res) {\r\n\t\t\tif (!res.isConnected) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '网络失去链接',\r\n\t\t\t\t\tcontent: '请检查网络链接',\r\n\t\t\t\t\tshowCancel: false\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tonShow: function() {\r\n\t\tthis.$store.dispatch('init');\r\n\r\n\t\t// 自动登录\r\n\t\tif (!uni.getStorageSync('token') && !uni.getStorageSync('loginLock') && !uni.getStorageSync('unbound')) {\r\n\t\t\t// #ifdef H5\r\n\t\t\tif (this.$util.isWeiXin()) {\r\n\t\t\t\tthis.$util.getUrlCode(urlParams => {\r\n\t\t\t\t\tif (urlParams.source_member) uni.setStorageSync('source_member', urlParams.source_member);\r\n\t\t\t\t\tif (urlParams.code == undefined) {\r\n\t\t\t\t\t\tthis.$api.sendRequest({\r\n\t\t\t\t\t\t\turl: '/wechat/api/wechat/authcode',\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tredirect_url: location.href\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\tif (res.code >= 0) {\r\n\t\t\t\t\t\t\t\t\tlocation.href = res.data;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$api.sendRequest({\r\n\t\t\t\t\t\t\turl: '/wechat/api/wechat/authcodetoopenid',\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tcode: urlParams.code\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\tif (res.code >= 0) {\r\n\t\t\t\t\t\t\t\t\tlet data = {};\r\n\t\t\t\t\t\t\t\t\tif (res.data.openid) data.wx_openid = res.data.openid;\r\n\t\t\t\t\t\t\t\t\tif (res.data.unionid) data.wx_unionid = res.data.unionid;\r\n\t\t\t\t\t\t\t\t\tif (res.data.userinfo) Object.assign(data, res.data.userinfo);\r\n\t\t\t\t\t\t\t\t\tthis.authLogin(data);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t}\r\n\t},\r\n\tonHide: function() {\r\n\t\tthis.$store.dispatch('getThemeStyle');\r\n\t},\r\n\tmethods: {\r\n\t\t/**\r\n\t\t * 授权登录\r\n\t\t */\r\n\t\tauthLogin(data) {\r\n\t\t\tuni.setStorage({\r\n\t\t\t\tkey: 'authInfo',\r\n\t\t\t\tdata: data\r\n\t\t\t});\r\n\r\n\t\t\tif (uni.getStorageSync('source_member')) data.source_member = uni.getStorageSync('source_member');\r\n\r\n\t\t\tthis.$api.sendRequest({\r\n\t\t\t\turl: '/api/login/auth',\r\n\t\t\t\tdata,\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.code >= 0) {\r\n\t\t\t\t\t\tuni.setStorage({\r\n\t\t\t\t\t\t\tkey: 'token',\r\n\t\t\t\t\t\t\tdata: res.data.token,\r\n\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\tthis.$store.dispatch('getCartNumber');\r\n\t\t\t\t\t\t\t\tthis.$store.commit('setToken', res.data.token);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.setStorage({\r\n\t\t\t\t\t\t\tkey: 'unbound',\r\n\t\t\t\t\t\t\tdata: 1,\r\n\t\t\t\t\t\t\tsuccess: () => {}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n@import url('/common/css/iconfont.css');\r\n@import './common/css/main.scss';\r\n/* #ifdef H5 */\r\nuni-page[data-page='otherpages/index/city/city'] {\r\n\toverflow: hidden !important;\r\n}\r\n/* #endif */\r\n</style>\r\n","import mod from \"-!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1650103024969\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}