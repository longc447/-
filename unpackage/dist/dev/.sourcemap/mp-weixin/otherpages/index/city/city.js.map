{"version":3,"sources":["uni-app:///main.js","webpack:////Users/longchu/Documents/镜惠购/otherpages/index/city/city.vue?537a","webpack:////Users/longchu/Documents/镜惠购/otherpages/index/city/city.vue?9da6","webpack:////Users/longchu/Documents/镜惠购/otherpages/index/city/city.vue?9431","webpack:////Users/longchu/Documents/镜惠购/otherpages/index/city/city.vue?05cc","uni-app:///otherpages/index/city/city.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,qG,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;;;AAGnD;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAk0B,CAAgB,kyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACSt1B,oG;;AAEA;AACA;AACA,0BADA,EADA;;AAIA,MAJA,kBAIA;AACA;AACA,sBADA;AAEA,wBAFA;AAGA,qBAHA;AAIA;AACA,eADA;AAEA,qBAFA;;AAIA;AACA,oBADA;AAEA,qBAFA,EAJA;;AAQA;AACA,oBADA;AAEA,qBAFA,EARA;;AAYA;AACA,oBADA;AAEA,qBAFA,EAZA;;AAgBA;AACA,oBADA;AAEA,sBAFA,EAhBA;;AAoBA;AACA,oBADA;AAEA,qBAFA,EApBA,CAJA;;;AA6BA,yBA7BA;AA8BA,kBA9BA;;AAgCA,GArCA;AAsCA,QAtCA,oBAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GA7CA;AA8CA;AACA,eADA,yBACA;AACA;AACA;AACA,gCADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SARA;;AAUA,KAbA;AAcA,cAdA,sBAcA,IAdA,EAcA;AACA;AACA,mBADA;AAEA,kBAFA;AAGA;AACA;AACA,SALA;;AAOA,KAtBA;AAuBA;;;AAGA,eA1BA,yBA0BA;AACA;AACA,+BADA;;AAGA;AACA,qBADA;AAEA;AACA;AACA;AACA,oCADA;AAEA,sCAFA,EADA;;AAKA;AACA;AACA,8CADA;AAEA;AACA,yDADA,EAFA;;AAKA;AACA;AACA;AACA;AACA,iBATA;;AAWA,aAjBA;AAkBA;AACA;AACA,aApBA;;AAsBA,SAzBA;;AA2BA,KAzDA;AA0DA,oBA1DA,8BA0DA;AACA;AACA,gCADA;AAEA;AACA,sBADA,EAFA;;AAKA;AACA;AACA,SAPA;;AASA,KApEA,EA9CA,E","file":"otherpages/index/city/city.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './otherpages/index/city/city.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./city.vue?vue&type=template&id=b2459c76&\"\nvar renderjs\nimport script from \"./city.vue?vue&type=script&lang=js&\"\nexport * from \"./city.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"otherpages/index/city/city.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./city.vue?vue&type=template&id=b2459c76&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./city.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./city.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<city-select :activeCity=\"activeCity\" :locationCity=\"locationCity\" :obtainCitys=\"obtainCitys\" :formatName=\"formatName\"\r\n\t\t :hotCity=\"hotCity\" ref=\"city\" @cityClick=\"selectCity\"></city-select>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport citySelect from \"@/otherpages/components/city-select/city-select.vue\"\r\n\timport WxMap from 'common/js/map-wx-jssdk.js'\r\n\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tcitySelect\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tactiveCity: null,\r\n\t\t\t\tlocationCity: null,\r\n\t\t\t\tobtainCitys: [],\r\n\t\t\t\thotCity: [{\r\n\t\t\t\t\t\t\"id\": 0,\r\n\t\t\t\t\t\t\"title\": \"全国\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": 110100,\r\n\t\t\t\t\t\t\"title\": \"北京\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": 140100,\r\n\t\t\t\t\t\t\"title\": \"太原\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": 120100,\r\n\t\t\t\t\t\t\"title\": \"天津\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": 130100,\r\n\t\t\t\t\t\t\"title\": \"石家庄\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": 370100,\r\n\t\t\t\t\t\t\"title\": \"济南\"\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tformatName: 'title',\r\n\t\t\t\tcityAddon: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\t// 刷新多语言\r\n\t\t\tthis.$langConfig.refresh();\r\n\t\t\tthis.getCityList();\r\n\t\t\tthis.getLocation();\r\n\t\t\tthis.checkAddonIsexit();\r\n\t\t\tif (uni.getStorageSync('city')) this.activeCity = uni.getStorageSync('city');\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetCityList() {\r\n\t\t\t\tif (uni.getStorageSync('cityData')) this.obtainCitys = uni.getStorageSync('cityData');\r\n\t\t\t\tthis.$api.sendRequest({\r\n\t\t\t\t\turl: '/api/address/city',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif (res.data) {\r\n\t\t\t\t\t\t\tthis.obtainCitys = res.data;\r\n\t\t\t\t\t\t\tthis.$refs.city.updateCitys(res.data);\r\n\t\t\t\t\t\t\tuni.setStorageSync('cityData', res.data);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tselectCity(data) {\r\n\t\t\t\tuni.setStorage({\r\n\t\t\t\t\tkey: 'city',\r\n\t\t\t\t\tdata: data,\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tthis.$util.goBack();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 获取定位城市\r\n\t\t\t */\r\n\t\t\tgetLocation() {\r\n\t\t\t\tconst map = new WxMap({\r\n\t\t\t\t\tkey: this.$config.mpKey\r\n\t\t\t\t});\r\n\t\t\t\tuni.getLocation({\r\n\t\t\t\t\ttype: 'gcj02',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tmap.reverseGeocoder({\r\n\t\t\t\t\t\t\tlocation: {\r\n\t\t\t\t\t\t\t\tlatitude: res.latitude,\r\n\t\t\t\t\t\t\t\tlongitude: res.longitude\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\tthis.$api.sendRequest({\r\n\t\t\t\t\t\t\t\t\turl: '/api/address/citybyname',\r\n\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\tcity: res.result.address_component.city\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t\t\tif (res.data) {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.locationCity = res.data;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: res => {\r\n\t\t\t\t\t\t\t\tconsole.error('定位失败错误信息：' + res.message)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcheckAddonIsexit() {\r\n\t\t\t\tthis.$api.sendRequest({\r\n\t\t\t\t\turl: '/api/addon/isexit',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tname: 'city'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tthis.cityAddon = res.data;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n"],"sourceRoot":""}