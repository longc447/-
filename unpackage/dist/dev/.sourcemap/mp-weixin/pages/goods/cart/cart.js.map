{"version":3,"sources":["uni-app:///main.js","webpack:////Users/longchu/Documents/镜惠购/pages/goods/cart/cart.vue?a491","webpack:////Users/longchu/Documents/镜惠购/pages/goods/cart/cart.vue?4e1b","webpack:////Users/longchu/Documents/镜惠购/pages/goods/cart/cart.vue?8c26","webpack:////Users/longchu/Documents/镜惠购/pages/goods/cart/cart.vue?5db5","uni-app:///pages/goods/cart/cart.vue","webpack:////Users/longchu/Documents/镜惠购/pages/goods/cart/cart.vue?387c","webpack:////Users/longchu/Documents/镜惠购/pages/goods/cart/cart.vue?f50f","webpack:////Users/longchu/Documents/镜惠购/pages/goods/cart/cart.vue?186a","webpack:////Users/longchu/Documents/镜惠购/pages/goods/cart/cart.vue?a745"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,gG,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6H;AAC7H;AACwD;AACL;AACc;AACuB;;;AAGxF;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,+FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACxBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,yLAEN;AACP,KAAK;AACL;AACA,aAAa,6NAEN;AACP,KAAK;AACL;AACA,aAAa,uNAEN;AACP,KAAK;AACL;AACA,aAAa,6NAEN;AACP,KAAK;AACL;AACA,aAAa,+OAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gEAAgE;AAChE;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClJA;AAAA;AAAA;AAAA;AAAk0B,CAAgB,kyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2Kt1B;AACA;AACA,2F;;AAEA;AACA;AACA,sCADA;AAEA,8BAFA;AAGA,8BAHA;AAIA,gBAJA,EADA;;AAOA,sDAPA;AAQA,MARA,kBAQA;AACA;AACA,eADA;AAEA,kBAFA,EAEA;AACA,oBAHA;AAIA,wBAJA;AAKA,mBALA;AAMA,uBANA;AAOA,kBAPA;AAQA,sBARA,EAQA;AACA,sBATA,EASA;AACA,wBAVA;;AAYA,qBAZA,EAYA;AACA,gBAbA,EAaA;AACA,cAdA,EAcA;AACA,kDAfA;AAgBA,0BAhBA;;AAkBA,GA3BA;AA4BA,QA5BA,oBA4BA;AACA;AACA;AACA;AACA;AACA;AACA,aADA,mBACA,GADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA,OAPA;;AASA,GA1CA;AA2CA,QA3CA,oBA2CA;AACA;AACA,2CAFA;AAGA,yCAHA;AAIA;AACA,2CADA;AAEA,8BAFA,GAJA,SAIA,GAJA;;AAQA;AACA;AACA;AACA,eAXA;;AAaA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAvBA;AAwBA,GAnEA;AAoEA,SApEA,qBAoEA;AACA;AACA;AACA;AACA,GAxEA;AAyEA;AACA,WADA,qBACA;AACA;AACA,KAHA;AAIA,cAJA,wBAIA;AACA;AACA,KANA,EAzEA;;AAiFA;AACA;AACA;AACA,KAHA,EAjFA;;AAsFA;AACA,WADA,mBACA,IADA,EACA;AACA;AACA;AACA;AACA;AACA,KANA;AAOA;;;AAGA,eAVA,yBAUA;AACA;AACA,mCADA;AAEA;AACA;AACA;AACA;AACA,WAHA,MAGA;AACA;AACA;AACA;AACA,SAVA;AAWA;AACA;AACA,SAbA;;AAeA,KA1BA;AA2BA;;;AAGA,kBA9BA,0BA8BA,IA9BA,EA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA,oCADA;AAEA,wCAFA;AAGA,2BAHA;AAIA,6BAJA;AAKA,gCALA;;AAOA;AACA;AACA,SAnBA,MAmBA;AACA;AACA;AACA,OAvBA;;AAyBA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAVA;AAWA,SAZA;AAaA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SANA;AAOA;AACA,KAxFA;AAyFA;;;;AAIA,kBA7FA,0BA6FA,SA7FA,EA6FA,KA7FA,EA6FA;AACA;AACA;AACA,KAhGA;AAiGA;;;;AAIA,mBArGA,2BAqGA,OArGA,EAqGA,KArGA,EAqGA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA,KA3GA;AA4GA;;;AAGA,eA/GA,uBA+GA,OA/GA,EA+GA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA;AAGA,SALA;AAMA;AACA;AACA,KA9HA;AA+HA;;;AAGA,yBAlIA,mCAkIA;AACA;AACA;AACA,sBADA;AAEA,gCAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WANA;AAOA;AACA;AACA;AACA,WAHA,MAGA;AACA;AACA;AACA,SAfA;AAgBA;AACA;AACA;AACA,OAxBA,MAwBA;AACA;AACA;AACA;AACA;AACA,KAhKA;AAiKA;;;;;AAKA,cAtKA,sBAsKA,GAtKA,EAsKA,SAtKA,EAsKA,SAtKA,EAsKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA,MAMA;AACA;AACA;AACA;AACA;AACA,4BADA;;AAGA;AACA;;AAEA;AACA,mBADA;AAEA,8BAFA;AAGA;AACA;AACA;AACA;AACA,qCADA;AAEA;AACA,gCADA,EAFA;;AAKA;AACA;AACA;AACA;AACA;AACA,4BADA,EACA,GADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAfA,MAeA;AACA;AACA;AACA,4BADA,CACA,MADA,CACA,SADA,EACA,CADA;AAEA;AACA;AACA;AACA,iBAvBA,MAuBA;AACA;AACA,sCADA;;AAGA;AACA,eAlCA;;AAoCA;AACA,SA3CA;;AA6CA,KArOA;AAsOA;;;;AAIA,iBA1OA,yBA0OA,GA1OA,EA0OA,MA1OA,EA0OA;AACA;AACA;AACA,yFADA;AAEA,mDAFA;AAGA;AACA;;AAEA;AACA;AACA,6BADA;AAEA;AACA,kBADA;AAEA,qFAFA,EAFA;;AAMA;AACA;AACA;AACA;AACA;AACA,WAJA,MAIA;AACA;AACA,gCADA;;AAGA;AACA,SAhBA;;AAkBA,KArQA;AAsQA;;;AAGA,cAzQA,wBAyQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAJA;AAKA,SANA;;AAQA;AACA;;AAEA;AACA,gCADA;AAEA;AACA,yCADA,EAFA;;AAKA;AACA;AACA;AACA,WARA;;AAUA;AACA,KAlSA;AAmSA;;;AAGA,qBAtSA,+BAsSA;AACA;AACA,mBADA;AAEA,8BAFA;AAGA;AACA;AACA;AACA;AACA;AACA,aAFA;AAGA;AACA;AACA,uCADA;AAEA;AACA,8CADA,EAFA;;AAKA;AACA;AACA;AACA;AACA,mBAHA,MAGA;AACA;AACA,wCADA;;AAGA;AACA,iBAdA;;AAgBA;AACA;AACA,SA5BA;;AA8BA,KArUA;AAsUA,YAtUA,oBAsUA,SAtUA,EAsUA,SAtUA,EAsUA;AACA;AACA;AACA,KAzUA;AA0UA,iBA1UA,yBA0UA,IA1UA,EA0UA;AACA;AACA,2BADA;;AAGA,KA9UA;AA+UA;AACA,iBAhVA,2BAgVA;AACA;AACA;AACA;AACA;AACA,KArVA;AAsVA,cAtVA,sBAsVA,KAtVA,EAsVA,SAtVA,EAsVA,KAtVA,EAsVA;AACA;AACA;AACA;AACA;AACA,iDADA;;AAGA,SAJA,MAIA;AACA;AACA,yBADA;;AAGA;AACA,OAVA,MAUA;AACA;AACA,2CADA;;AAGA;AACA,KAvWA;AAwWA,WAxWA,qBAwWA;AACA;AACA,KA1WA;AA2WA;AACA,UA5WA,kBA4WA,CA5WA,EA4WA;AACA;AACA;AACA,KA/WA;AAgXA,UAhXA,kBAgXA,CAhXA,EAgXA,SAhXA,EAgXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAxXA;AAyXA;AACA,mBA1XA,6BA0XA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAjYA;AAkYA,gBAlYA,0BAkYA;AACA;AACA;AACA,KArYA,EAtFA,E;;;;;;;;;;;;;AC/KA;AAAA;AAAA;AAAA;AAAiiD,CAAgB,i6CAAG,EAAC,C;;;;;;;;;;;ACArjD;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAAusC,CAAgB,unCAAG,EAAC,C;;;;;;;;;;;ACA3tC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/goods/cart/cart.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/goods/cart/cart.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./cart.vue?vue&type=template&id=05a48acd&scoped=true&\"\nvar renderjs\nimport script from \"./cart.vue?vue&type=script&lang=js&\"\nexport * from \"./cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cart.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./cart.vue?vue&type=style&index=1&id=05a48acd&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05a48acd\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/goods/cart/cart.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=template&id=05a48acd&scoped=true&\"","var components\ntry {\n  components = {\n    skuList: function() {\n      return import(\n        /* webpackChunkName: \"components/sku-list/sku-list\" */ \"@/components/sku-list/sku-list.vue\"\n      )\n    },\n    uniNumberBox: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-number-box/uni-number-box\" */ \"@/components/uni-number-box/uni-number-box.vue\"\n      )\n    },\n    loadingCover: function() {\n      return import(\n        /* webpackChunkName: \"components/loading-cover/loading-cover\" */ \"@/components/loading-cover/loading-cover.vue\"\n      )\n    },\n    diyBottomNav: function() {\n      return import(\n        /* webpackChunkName: \"components/diy-bottom-nav/diy-bottom-nav\" */ \"@/components/diy-bottom-nav/diy-bottom-nav.vue\"\n      )\n    },\n    nsLogin: function() {\n      return import(\n        /* webpackChunkName: \"components/ns-login/ns-login\" */ \"@/components/ns-login/ns-login.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.isAction ? _vm.$lang(\"complete\") : null\n  var m1 = !_vm.isAction ? _vm.$lang(\"edit\") : null\n  var l1 = _vm.hasData\n    ? _vm.__map(_vm.cartData, function(siteItem, siteIndex) {\n        var $orig = _vm.__get_orig(siteItem)\n\n        var m5 = _vm.$lang(\"del\")\n\n        var l0 = _vm.__map(siteItem.cartList, function(item, cartIndex) {\n          var $orig = _vm.__get_orig(item)\n\n          var m2 =\n            item.promotion_type == 1 ? _vm.$lang(\"common.currencySymbol\") : null\n          var g0 =\n            item.promotion_type == 1\n              ? _vm.$util.img(\"upload/uniapp/index/discount.png\")\n              : null\n          var m3 = !(item.promotion_type == 1)\n            ? _vm.$lang(\"common.currencySymbol\")\n            : null\n          var m4 = _vm.initNum(item)\n          return {\n            $orig: $orig,\n            m2: m2,\n            g0: g0,\n            m3: m3,\n            m4: m4\n          }\n        })\n\n        return {\n          $orig: $orig,\n          m5: m5,\n          l0: l0\n        }\n      })\n    : null\n  var m6 = _vm.$lang(\"common.currencySymbol\")\n  var l2 =\n    _vm.hasData && _vm.invalidGoods.length\n      ? _vm.__map(_vm.invalidGoods, function(goodsItem, goodsIndex) {\n          var $orig = _vm.__get_orig(goodsItem)\n\n          var g1 = _vm.$util.img(goodsItem.sku_image, {\n            size: \"mid\"\n          })\n          return {\n            $orig: $orig,\n            g1: g1\n          }\n        })\n      : null\n  var g2 = !_vm.hasData ? _vm.$util.img(\"upload/uniapp/common-empty.png\") : null\n  var m7 = !_vm.hasData ? _vm.$lang(\"emptyTips\") : null\n  var m8 = _vm.hasData ? _vm.$lang(\"allElection\") : null\n  var m9 = _vm.hasData ? _vm.$lang(\"total\") : null\n  var m10 = _vm.hasData ? _vm.$lang(\"common.currencySymbol\") : null\n  var m11 = _vm.hasData && _vm.isAction ? _vm.$lang(\"del\") : null\n  var m12 =\n    _vm.hasData && !_vm.isAction && _vm.totalCount != 0\n      ? _vm.$lang(\"settlement\")\n      : null\n  var m13 =\n    _vm.hasData && !_vm.isAction && !(_vm.totalCount != 0)\n      ? _vm.$lang(\"settlement\")\n      : null\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      return _vm.$util.redirectTo(\"/pages/index/index/index\", {}, \"reLaunch\")\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        l1: l1,\n        m6: m6,\n        l2: l2,\n        g2: g2,\n        m7: m7,\n        m8: m8,\n        m9: m9,\n        m10: m10,\n        m11: m11,\n        m12: m12,\n        m13: m13\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view :data-theme=\"themeStyle\" class=\"allPage\" :class=\"{ bottom: hasData }\">\r\n\t\t<scroll-view class=\"container\" :scroll-x=\"true\" :show-scrollbar=\"false\">\r\n\t\t\t<block v-if=\"hasData\">\r\n\t\t\t\t<view class=\"cart-wrap\" v-for=\"(siteItem, siteIndex) in cartData\" :key=\"siteIndex\">\r\n\t\t\t\t\t<view class=\"cart-header\">\r\n\t\t\t\t\t\t<view class=\"iconfont\"\r\n\t\t\t\t\t\t\t:class=\"siteItem.checked ? 'iconyuan_checked color-base-text' : 'iconyuan_checkbox'\"\r\n\t\t\t\t\t\t\t@click=\"siteAllElection(!siteItem.checked, siteIndex)\"></view>\r\n\t\t\t\t\t\t<view class=\"iconfont icondianpu\"></view>\r\n\t\t\t\t\t\t<view class=\"shop-info\">\r\n\t\t\t\t\t\t\t<text>{{ siteItem.siteName }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"num-wrap font-size-tag\">\r\n\t\t\t\t\t\t\t共\r\n\t\t\t\t\t\t\t<text class=\"color-base-text\">{{ siteItem.cartList.length }}</text>\r\n\t\t\t\t\t\t\t件商品\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"cart-action\" @click=\"changeAction\">\r\n\t\t\t\t\t\t\t{{ isAction ? $lang('complete') : $lang('edit') }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<block v-for=\"(item, cartIndex) in siteItem.cartList\" :key=\"cartIndex\">\r\n\t\t\t\t\t\t<view class=\"cart-goods\" @touchstart=\"touchS($event)\" @touchend=\"touchE($event, item)\">\r\n\t\t\t\t\t\t\t<view class=\"goods-wrap\" :class=\"{ edit: item.edit }\">\r\n\t\t\t\t\t\t\t\t<view class=\"iconfont\"\r\n\t\t\t\t\t\t\t\t\t:class=\"item.checked ? 'iconyuan_checked color-base-text' : 'iconyuan_checkbox'\"\r\n\t\t\t\t\t\t\t\t\t@click=\"singleElection(siteIndex, cartIndex)\"></view>\r\n\t\t\t\t\t\t\t\t<!-- <view @click=\"toGoodsDetail(item)\" class=\"goods-img\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"$util.img(item.sku_image, { size: 'mid' })\"\r\n\t\t\t\t\t\t\t\t\t\t@error=\"imgError(siteIndex, cartIndex)\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t</view> -->\r\n\t\t\t\t\t\t\t\t<view class=\"goods-info\">\r\n\t\t\t\t\t\t\t\t\t<view @click=\"toGoodsDetail(item)\" class=\"goods-name\">\n\t\t\t\t\t\t\t\t\t<text style=\"font-size: 35rpx;font-weight: bold;\">{{ item.goods_name }}</text></view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"sku\" v-if=\"item.sku_spec_format\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"goods-spec\">\r\n\t\t\t\t\t\t\t\t\t\t\t<block v-for=\"(x, i) in item.sku_spec_format\" :key=\"i\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.luminosity_status != 1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ x.spec_value_name }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ i < item.sku_spec_format.length - 1 ? ';' : '' }}\r\n\t\t\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<sku-list :goodsItem=\"item\"></sku-list>\r\n\t\t\t\t\t\t\t\t\t<view class=\"sku\">\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view class=\"goods-sub-section\">\r\n\t\t\t\t\t\t\t\t\t\t<block v-if=\"item.promotion_type == 1\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"goods-price color-base-text\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"bottom-price color-base-text\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"unit\">{{ $lang('common.currencySymbol') }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ item.discount_price }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<image :src=\"$util.img('upload/uniapp/index/discount.png')\"></image>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"goods-price color-base-text\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"bottom-price color-base-text\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"unit\">{{ $lang('common.currencySymbol') }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ item.discount_price }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t\t\t<uni-number-box :min=\"item.min_buy > 1 ? item.min_buy : 1\"\r\n\t\t\t\t\t\t\t\t\t\t\t:max=\"item.max_buy > 0 && item.max_buy < item.stock ? item.max_buy : item.stock\"\r\n\t\t\t\t\t\t\t\t\t\t\t:value=\"initNum(item)\" size=\"small\" :modifyFlag=\"modifyFlag\"\r\n\t\t\t\t\t\t\t\t\t\t\t@change=\"cartNumChange($event, { siteIndex, cartIndex })\"\r\n\t\t\t\t\t\t\t\t\t\t\t@limit=\"goodsLimit($event, siteIndex, cartIndex)\" />\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"item-del color-base-bg\" :class=\"{ show: item.edit }\"\r\n\t\t\t\t\t\t\t\t@click=\"deleteCart('single', siteIndex, cartIndex)\">{{ $lang('del') }}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"cart-wrap invalid\" v-if=\"invalidGoods.length\">\r\n\t\t\t\t\t<view class=\"cart-header\">\r\n\t\t\t\t\t\t<view class=\"num-wrap\">\r\n\t\t\t\t\t\t\t<text class=\"font-size-base\">失效商品{{ invalidGoods.length }}件</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"cart-action color-base-text font-size-goods-tag\" @click=\"clearInvalidGoods\">清空\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<block v-for=\"(goodsItem, goodsIndex) in invalidGoods\" :key=\"goodsIndex\">\r\n\t\t\t\t\t\t<view class=\"cart-goods invalid-goods\">\r\n\t\t\t\t\t\t\t<view class=\"goods-wrap\">\r\n\t\t\t\t\t\t\t\t<view class=\"iconfont iconyuan_checked color-tip\"></view>\r\n\t\t\t\t\t\t\t\t<view class=\"goods-img\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"$util.img(goodsItem.sku_image, { size: 'mid' })\" mode=\"aspectFill\">\r\n\t\t\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"goods-info\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"goods-name\" style=\"font-size: 50rpx;font-weight: bold;\">{{ goodsItem.sku_name }}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"sku\" >\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"goods-spec\">\r\n\t\t\t\t\t\t\t\t\t\t\t<block v-for=\"(x, i) in goodsItem.sku_spec_format\" :key=\"i\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ x.spec_value_name }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ i < goodsItem.sku_spec_format.length - 1 ? '; ' : '' }}\r\n\t\t\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"goods-sub-section\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"goods-price color-base-text\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"unit\">{{ $lang('common.currencySymbol') }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ goodsItem.discount_price }}\r\n\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"invalid-mark\">已失效</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\t\t\t<block v-else>\r\n\t\t\t\t<view class=\"cart-empty\">\r\n\t\t\t\t\t<image :src=\"$util.img('upload/uniapp/common-empty.png')\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t<view class=\"color-tip margin-top margin-bottom\">{{ $lang('emptyTips') }}</view>\r\n\t\t\t\t\t<button type=\"primary\" size=\"mini\" class=\"button\" v-if=\"token != ''\"\r\n\t\t\t\t\t\t@click=\"$util.redirectTo('/pages/index/index/index', {}, 'reLaunch')\">去逛逛</button>\r\n\t\t\t\t\t<button type=\"primary\" size=\"mini\" class=\"button\" v-else @click=\"toLogin\">去登录</button>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\t\t</scroll-view>\r\n\t\t<nsGoodsRecommend ref=\"goodrecommend\"></nsGoodsRecommend>\r\n\t\t<!-- :class=\"{ active: isIphoneX }\" -->\r\n\t\t<view :class=\"['cart-bottom',styleIPhone12?'iphone12':'',isIphoneX?'active':'']\" v-if=\"hasData\"\r\n\t\t\t:style=\"{ bottom: cartBottom }\">\r\n\t\t\t<view class=\"all-election\" @click=\"allElection\">\r\n\t\t\t\t<view class=\"iconfont\" :class=\"checkAll ? 'iconyuan_checked color-base-text' : 'iconyuan_checkbox'\">\r\n\t\t\t\t</view>\r\n\t\t\t\t<text>{{ $lang('allElection') }}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"settlement-info\" :style=\"{ visibility: isAction ? 'hidden' : 'visible' }\">\r\n\t\t\t\t{{ $lang('total') }}：\r\n\t\t\t\t<text class=\"color-base-text font-size-toolbar\">{{ $lang('common.currencySymbol') }}{{ totalPrice }}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"action-btn\" v-if=\"isAction\">\r\n\t\t\t\t<button type=\"primary\" size=\"mini\" @click=\"deleteCart('all')\" plain\r\n\t\t\t\t\tclass=\"delete\">{{ $lang('del') }}</button>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"action-btn\" v-else>\r\n\t\t\t\t<button type=\"primary\" size=\"mini\" @click=\"settlement\"\r\n\t\t\t\t\tv-if=\"totalCount != 0\">{{ $lang('settlement') }}({{ totalCount }})</button>\r\n\t\t\t\t<button type=\"primary\" size=\"mini\" @click=\"settlement\" disabled\r\n\t\t\t\t\tv-else>{{ $lang('settlement') }}({{ totalCount }})</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 加载动画 -->\r\n\t\t<loading-cover ref=\"loadingCover\"></loading-cover>\r\n\t\t<!-- 底部tabBar -->\r\n\t\t<diy-bottom-nav type=\"shop\"></diy-bottom-nav>\r\n\t\t<!-- 返回顶部 -->\r\n\t\t<to-top v-if=\"showTop\" @toTop=\"scrollToTopNative()\"></to-top>\r\n\r\n\t\t<ns-login ref=\"login\"></ns-login>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport nsGoodsRecommend from '@/components/ns-goods-recommend/ns-goods-recommend.vue';\r\n\timport uniNumberBox from '@/components/uni-number-box/uni-number-box.vue';\r\n\timport diyBottomNav from '@/components/diy-bottom-nav/diy-bottom-nav.vue';\r\n\timport toTop from '@/components/toTop/toTop.vue';\r\n\timport scroll from '@/common/js/scroll-view.js';\r\n\timport globalConfig from '@/common/js/golbalConfig.js';\n\timport Config from '@/common/js/config.js'\r\n\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tnsGoodsRecommend,\r\n\t\t\tuniNumberBox,\r\n\t\t\tdiyBottomNav,\r\n\t\t\ttoTop\r\n\t\t},\r\n\t\tmixins: [scroll, globalConfig],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttoken: '',\r\n\t\t\t\tcartData: [], // 购物车\r\n\t\t\t\tcheckAll: true,\r\n\t\t\t\ttotalPrice: '0.00',\r\n\t\t\t\ttotalCount: 0,\r\n\t\t\t\tmodifyFlag: false,\r\n\t\t\t\tisSub: false,\r\n\t\t\t\tinvalidGoods: [], // 失效商品集合\r\n\t\t\t\tisIphoneX: false, //判断手机是否是iphoneX以上,\r\n\t\t\t\tcartBottom: '56px',\r\n\r\n\t\t\t\tisAction: false, // 是否操作删除\r\n\t\t\t\tstartX: '', // 触摸开始位置\r\n\t\t\t\tendX: '', // 触摸结束位置,\r\n\t\t\t\tis_wholesaler: Config.is_wholesaler,\r\n\t\t\t\tstyleIPhone12: false\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tlet _this = this\r\n\t\t\tuni.hideTabBar();\r\n\t\t\tthis.token = uni.getStorageSync('token');\n\t\t\t\t\t\t\tconsole.log(this.token,\"token\");\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tif (res.model.substring(0, 9) == \"iPhone 12\") {\r\n\t\t\t\t\t\t//12系列\r\n\t\t\t\t\t\t_this.styleIPhone12 = true\r\n\t\t\t\t\t\tconsole.log(res.model);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tasync onShow() {\r\n\t\t\t// 刷新多语言\r\n\t\t\tthis.$langConfig.refresh();\r\n\t\t\tif (uni.getStorageSync('token')) {\r\n\t\t\t\tvar ret = await this.$api.sendRequest({\r\n\t\t\t\t\turl: '/api/member/detail',\r\n\t\t\t\t\tasync: false\r\n\t\t\t\t});\r\n\t\t\t\tif (ret.code == 0) {\r\n\t\t\t\t\tconsole.log(ret)\r\n\t\t\t\t\t// if(Config.is_wholesaler===0)this.is_wholesaler = ret.is_wholesaler\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (uni.getStorageSync('token')) {\r\n\t\t\t\tthis.getCartData();\r\n\t\t\t} else {\r\n\t\t\t\tthis.token = '';\r\n\t\t\t\tthis.cartData = [];\r\n\t\t\t\tthis.calculationTotalPrice();\r\n\t\t\t}\r\n\t\t\tthis.isIphoneX = this.$util.uniappIsIPhoneX();\r\n\t\t\tif (this.$util.uniappIsIPhone11()) {\r\n\t\t\t\tthis.cartBottom = '90px';\r\n\t\t\t}\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tif (!uni.getStorageSync('token')) {\r\n\t\t\t\tif (this.$refs.loadingCover) this.$refs.loadingCover.hide();\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\thasData() {\r\n\t\t\t\treturn this.cartData.length > 0 || this.invalidGoods.length > 0;\r\n\t\t\t},\r\n\t\t\tstoreToken() {\r\n\t\t\t\treturn this.$store.state.token;\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tstoreToken: function(nVal, oVal) {\r\n\t\t\t\tthis.getCartData();\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinitNum(item) {\r\n\t\t\t\tlet max_buy = item.max_buy > 0 && item.max_buy < item.stock ? item.max_buy : item.stock;\r\n\t\t\t\tmax_buy = max_buy == 0 ? 1 : max_buy;\r\n\t\t\t\tif (item.num > max_buy) return max_buy;\r\n\t\t\t\treturn item.num;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 获取购物车数据\r\n\t\t\t */\r\n\t\t\tgetCartData() {\r\n\t\t\t\tthis.$api.sendRequest({\r\n\t\t\t\t\turl: '/api/cart/goodslists',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif (res.code >= 0) {\r\n\t\t\t\t\t\t\tif (res.data.length) this.handleCartData(res.data);\r\n\t\t\t\t\t\t\telse this.cartData = [];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.token = '';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (this.$refs.loadingCover) this.$refs.loadingCover.hide();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: res => {\r\n\t\t\t\t\t\tif (this.$refs.loadingCover) this.$refs.loadingCover.hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 处理购物车数据结构\r\n\t\t\t */\r\n\t\t\thandleCartData(data) {\r\n\t\t\t\tthis.invalidGoods = [];\r\n\t\t\t\tthis.cartData = [];\r\n\t\t\t\tvar temp = {};\r\n\t\t\t\tdata.forEach((item, index) => {\r\n\t\t\t\t\tif (item.goods_state == 1 && item.verify_state == 1 && item.shop_status != 0) {\r\n\t\t\t\t\t\t// 如果最小限购超出库存则该商品失效\r\n\t\t\t\t\t\tif (item.min_buy > 0 && item.min_buy > item.stock) {\r\n\t\t\t\t\t\t\tthis.invalidGoods.push(item);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\titem.checked = true;\r\n\t\t\t\t\t\t\titem.edit = false;\r\n\t\t\t\t\t\t\tif (temp['site_' + item.site_id] != undefined) {\r\n\t\t\t\t\t\t\t\ttemp['site_' + item.site_id].cartList.push(item);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttemp['site_' + item.site_id] = {\r\n\t\t\t\t\t\t\t\t\tsiteId: item.site_id,\r\n\t\t\t\t\t\t\t\t\tsiteName: item.site_name,\r\n\t\t\t\t\t\t\t\t\tedit: false,\r\n\t\t\t\t\t\t\t\t\tchecked: true,\r\n\t\t\t\t\t\t\t\t\tcartList: [item]\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.invalidGoods.push(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.cartData = [];\r\n\t\t\t\tObject.keys(temp).forEach(key => {\r\n\t\t\t\t\tthis.cartData.push(temp[key]);\r\n\t\t\t\t});\r\n\t\t\t\tthis.calculationTotalPrice();\r\n\t\t\t\tif (this.cartData.length) {\r\n\t\t\t\t\tthis.cartData.forEach(cart => {\r\n\t\t\t\t\t\tcart.cartList.forEach(v => {\r\n\t\t\t\t\t\t\t// if (v.sku_spec_format) {\n\t\t\t\t\t\t\t// \ttry{\r\n\t\t\t\t\t\t\t// \t\t// v.sku_spec_format = JSON.parse(v.sku_spec_format);\t\n\t\t\t\t\t\t\t// \t}catch(e){\n\t\t\t\t\t\t\t// console.error(v.sku_spec_format,\"---------\");\n\t\t\t\t\t\t\t// \t}\r\n\t\t\t\t\t\t\t// } else {\r\n\t\t\t\t\t\t\t// \tv.sku_spec_format = [];\r\n\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif (this.invalidGoods.length) {\r\n\t\t\t\t\tthis.invalidGoods.forEach(v => {\r\n\t\t\t\t\t\tif (v.sku_spec_format) {\r\n\t\t\t\t\t\t\tv.sku_spec_format = JSON.parse(v.sku_spec_format);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tv.sku_spec_format = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 单选\r\n\t\t\t * @param {Object} index\r\n\t\t\t */\r\n\t\t\tsingleElection(siteIndex, index) {\r\n\t\t\t\tthis.cartData[siteIndex].cartList[index].checked = !this.cartData[siteIndex].cartList[index].checked;\r\n\t\t\t\tthis.calculationTotalPrice();\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 店铺全选\r\n\t\t\t * @param {Object} checked\r\n\t\t\t */\r\n\t\t\tsiteAllElection(checked, index) {\r\n\t\t\t\tthis.cartData[index].checked = checked;\r\n\t\t\t\tthis.cartData[index].cartList.forEach(item => {\r\n\t\t\t\t\titem.checked = checked;\r\n\t\t\t\t});\r\n\t\t\t\tthis.calculationTotalPrice();\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 全选\r\n\t\t\t */\r\n\t\t\tallElection(checked) {\r\n\t\t\t\tif (typeof checked == 'boolean') {\r\n\t\t\t\t\tthis.checkAll = checked;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.checkAll = !this.checkAll;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.cartData.length) {\r\n\t\t\t\t\tthis.cartData.forEach(siteItem => {\r\n\t\t\t\t\t\tsiteItem.checked = this.checkAll;\r\n\t\t\t\t\t\tsiteItem.cartList.forEach(item => {\r\n\t\t\t\t\t\t\titem.checked = this.checkAll;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tthis.calculationTotalPrice();\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 计算购物车总价\r\n\t\t\t */\r\n\t\t\tcalculationTotalPrice() {\r\n\t\t\t\tif (this.cartData.length) {\r\n\t\t\t\t\tlet totalPrice = 0,\r\n\t\t\t\t\t\ttotalCount = 0,\r\n\t\t\t\t\t\tsiteAllElectionCount = 0;\r\n\r\n\t\t\t\t\tthis.cartData.forEach(siteItem => {\r\n\t\t\t\t\t\tlet siteGoodsCount = 0;\r\n\t\t\t\t\t\tsiteItem.cartList.forEach(item => {\r\n\t\t\t\t\t\t\tif (item.checked) {\r\n\t\t\t\t\t\t\t\tsiteGoodsCount += 1;\r\n\t\t\t\t\t\t\t\ttotalCount += parseInt(item.num);\r\n\t\t\t\t\t\t\t\ttotalPrice += item.discount_price * item.num;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (siteItem.cartList.length == siteGoodsCount) {\r\n\t\t\t\t\t\t\tsiteItem.checked = true;\r\n\t\t\t\t\t\t\tsiteAllElectionCount += 1;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsiteItem.checked = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.totalPrice = totalPrice.toFixed(2);\r\n\t\t\t\t\tthis.totalCount = totalCount;\r\n\t\t\t\t\tthis.checkAll = this.cartData.length == siteAllElectionCount;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.totalPrice = '0.00';\r\n\t\t\t\t\tthis.totalCount = 0;\r\n\t\t\t\t}\r\n\t\t\t\tthis.modifyFlag = false;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 删除购物车\r\n\t\t\t * @param {Object} siteIndex\r\n\t\t\t * @param {Object} cartIndex\r\n\t\t\t */\r\n\t\t\tdeleteCart(tag, siteIndex, cartIndex) {\r\n\t\t\t\tvar cart_id = [];\r\n\t\t\t\tif (tag == 'all') {\r\n\t\t\t\t\tfor (let i = 0; i < this.cartData.length; i++) {\r\n\t\t\t\t\t\tfor (let j = 0; j < this.cartData[i].cartList.length; j++) {\r\n\t\t\t\t\t\t\tif (this.cartData[i].cartList[j].checked) cart_id.push(this.cartData[i].cartList[j].cart_id);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcart_id.push(this.cartData[siteIndex].cartList[cartIndex].cart_id);\r\n\t\t\t\t}\r\n\t\t\t\tif (cart_id.length == 0) {\r\n\t\t\t\t\tthis.$util.showToast({\r\n\t\t\t\t\t\ttitle: '请选择要删除的商品'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '确定要删除这些商品吗？',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tcart_id = cart_id.toString();\r\n\t\t\t\t\t\t\tthis.$api.sendRequest({\r\n\t\t\t\t\t\t\t\turl: '/api/cart/delete',\r\n\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\tcart_id\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t\tif (res.code >= 0) {\r\n\t\t\t\t\t\t\t\t\t\tif (tag == 'all') {\r\n\t\t\t\t\t\t\t\t\t\t\tfor (var i = 0; i < this.cartData.length; i++) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var j = 0; j < this.cartData[i].cartList\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.length; j++) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar item = this.cartData[i].cartList[j];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (item.checked) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.cartData[i].cartList.splice(j, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tj = -1;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (this.cartData[i].cartList.length == 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.cartData.splice(i, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ti = -1;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.cartData[siteIndex].cartList.splice(cartIndex, 1);\r\n\t\t\t\t\t\t\t\t\t\t\tif (this.cartData[siteIndex].cartList.length == 0) this\r\n\t\t\t\t\t\t\t\t\t\t\t\t.cartData.splice(siteIndex, 1);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tthis.calculationTotalPrice();\r\n\t\t\t\t\t\t\t\t\t\tthis.getCartNumber();\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tthis.$util.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: res.message\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 变更购物车数量\r\n\t\t\t * @param {Object} params\r\n\t\t\t */\r\n\t\t\tcartNumChange(num, params) {\r\n\t\t\t\tif (isNaN(num)) return;\r\n\t\t\t\tlet data = this.cartData[params.siteIndex].cartList[params.cartIndex],\r\n\t\t\t\t\tmax_buy = data.max_buy > 0 && data.max_buy < data.stock ? data.max_buy : data.stock,\r\n\t\t\t\t\tmin_buy = data.min_buy > 0 ? data.min_buy : 1;\r\n\t\t\t\tif (num > max_buy) num = max_buy;\r\n\t\t\t\tif (num < min_buy) num = min_buy;\r\n\r\n\t\t\t\tthis.modifyFlag = true;\r\n\t\t\t\tthis.$api.sendRequest({\r\n\t\t\t\t\turl: '/api/cart/edit',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tnum,\r\n\t\t\t\t\t\tcart_id: this.cartData[params.siteIndex].cartList[params.cartIndex].cart_id\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif (res.code >= 0) {\r\n\t\t\t\t\t\t\tthis.cartData[params.siteIndex].cartList[params.cartIndex].num = num;\r\n\t\t\t\t\t\t\tthis.calculationTotalPrice();\r\n\t\t\t\t\t\t\tthis.getCartNumber();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$util.showToast({\r\n\t\t\t\t\t\t\t\ttitle: res.message\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 结算\r\n\t\t\t */\r\n\t\t\tsettlement() {\r\n\t\t\t\tif (this.totalCount > 0) {\r\n\t\t\t\t\tlet cart_ids = [];\r\n\t\t\t\t\tthis.cartData.forEach(siteItem => {\r\n\t\t\t\t\t\tsiteItem.cartList.forEach(item => {\r\n\t\t\t\t\t\t\tif (item.checked) {\r\n\t\t\t\t\t\t\t\tcart_ids.push(item.cart_id);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (this.isSub) return;\r\n\t\t\t\t\tthis.isSub = true;\r\n\r\n\t\t\t\t\tuni.setStorage({\r\n\t\t\t\t\t\tkey: 'orderCreateData',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tcart_ids: cart_ids.toString()\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\tthis.$util.redirectTo('/pages/order/payment/payment');\r\n\t\t\t\t\t\t\tthis.isSub = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 清空失效商品\r\n\t\t\t */\r\n\t\t\tclearInvalidGoods() {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '确定要清空这些商品吗？',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tvar cart_ids = [];\r\n\t\t\t\t\t\t\tthis.invalidGoods.forEach(goodsItem => {\r\n\t\t\t\t\t\t\t\tcart_ids.push(goodsItem.cart_id);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tif (cart_ids.length) {\r\n\t\t\t\t\t\t\t\tthis.$api.sendRequest({\r\n\t\t\t\t\t\t\t\t\turl: '/api/cart/delete',\r\n\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\tcart_id: cart_ids.toString()\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t\t\tif (res.code >= 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.invalidGoods = [];\r\n\t\t\t\t\t\t\t\t\t\t\tthis.getCartNumber();\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.$util.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: res.message\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\timgError(siteIndex, cartIndex) {\r\n\t\t\t\tthis.cartData[siteIndex].cartList[cartIndex].sku_image = this.$util.getDefaultImage().default_goods_img;\r\n\t\t\t\tthis.$forceUpdate();\r\n\t\t\t},\r\n\t\t\ttoGoodsDetail(item) {\r\n\t\t\t\tthis.$util.redirectTo('/pages/goods/detail/detail', {\r\n\t\t\t\t\tsku_id: item.sku_id\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 购物车数量\r\n\t\t\tgetCartNumber() {\r\n\t\t\t\tif (uni.getStorageSync('token')) {\r\n\t\t\t\t\tthis.$store.dispatch('getCartNumber');\r\n\t\t\t\t\tthis.resetEditStatus();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgoodsLimit(event, siteIndex, index) {\r\n\t\t\t\tlet data = this.cartData[siteIndex].cartList[index];\r\n\t\t\t\tif (event.type == 'plus') {\r\n\t\t\t\t\tif (data.max_buy > 0 && data.max_buy < data.stock) {\r\n\t\t\t\t\t\tthis.$util.showToast({\r\n\t\t\t\t\t\t\ttitle: '该商品每人限购' + data.max_buy + '件'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$util.showToast({\r\n\t\t\t\t\t\t\ttitle: '库存不足'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$util.showToast({\r\n\t\t\t\t\t\ttitle: '最少购买' + event.value + '件'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttoLogin() {\r\n\t\t\t\tthis.$refs.login.open();\r\n\t\t\t},\r\n\t\t\t// 手指触摸事件 用于菜单左滑\r\n\t\t\ttouchS(e) {\r\n\t\t\t\tthis.startX = e.touches[0].clientX;\r\n\t\t\t\t// console.log('开始' + e.touches[0].clientX);\r\n\t\t\t},\r\n\t\t\ttouchE(e, cartIndex) {\r\n\t\t\t\tthis.endX = e.changedTouches[0].clientX;\r\n\t\t\t\t// 触摸开始到停止的差值，小于0左滑，大于0右滑\r\n\t\t\t\tvar disX = this.startX - this.endX;\r\n\t\t\t\t// cartIndex.edit = disX > 50;\r\n\t\t\t\tif (disX > 50) cartIndex.edit = true;\r\n\t\t\t\telse if (disX < 0) cartIndex.edit = false;\r\n\t\t\t\tthis.$forceUpdate();\r\n\t\t\t},\r\n\t\t\t// 重置编辑状态\r\n\t\t\tresetEditStatus() {\r\n\t\t\t\tfor (var i = 0; i < this.cartData.length; i++) {\r\n\t\t\t\t\tfor (var j = 0; j < this.cartData[i].cartList.length; j++) {\r\n\t\t\t\t\t\tthis.cartData[i].cartList[j].edit = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.$forceUpdate();\r\n\t\t\t},\r\n\t\t\tchangeAction() {\r\n\t\t\t\tthis.isAction = !this.isAction;\r\n\t\t\t\tthis.resetEditStatus();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.allPage {\r\n\t\theight: calc(100vh - 110rpx);\r\n\t\tpadding-bottom: 110rpx;\r\n\t\toverflow-y: auto;\r\n\r\n\t\t&.bottom {\r\n\t\t\theight: calc(100vh - 210rpx);\r\n\t\t\tpadding-bottom: 210rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.cart-header {\r\n\t\tpadding: 20rpx 30rpx;\r\n\t\tmargin: 0 $margin-both;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tline-height: 40rpx;\r\n\t\tbackground: #fff;\r\n\r\n\t\t.num-wrap {\r\n\t\t\tflex: 1;\r\n\t\t\tline-height: inherit;\r\n\r\n\t\t\ttext {\r\n\t\t\t\tpadding: 0 4rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.cart-action {\r\n\t\t\tline-height: inherit;\r\n\t\t}\r\n\r\n\t\t&.invalid {\r\n\t\t\tmargin-left: $margin-both;\r\n\t\t\tmargin-top: $margin-updown;\r\n\t\t\tflex: 1;\r\n\t\t\tline-height: inherit;\r\n\t\t}\r\n\r\n\t\t.shop-info {\r\n\t\t\tline-height: inherit;\r\n\t\t\tmargin-right: $margin-both;\r\n\t\t}\r\n\r\n\t\t.iconyuan_checkbox {\r\n\t\t\tfont-size: 40rpx;\r\n\t\t\tcolor: $color-disabled;\r\n\t\t\tmargin-right: 14rpx;\r\n\t\t\tline-height: 1;\r\n\t\t}\r\n\r\n\t\t.iconyuan_checked {\r\n\t\t\tfont-size: 40rpx;\r\n\t\t\tmargin-right: 14rpx;\r\n\t\t\tline-height: 1;\r\n\t\t}\r\n\r\n\t\t.icondianpu {\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tmargin-right: 10rpx;\r\n\t\t\tline-height: inherit;\r\n\t\t}\r\n\t}\r\n\r\n\t.cart-wrap {\r\n\t\tmargin-bottom: $margin-updown;\r\n\r\n\t\t&:first-child {\r\n\t\t\tmargin-top: $margin-updown;\r\n\t\t}\r\n\r\n\t\t.fixed-wrap {\r\n\t\t\theight: 116rpx;\r\n\t\t}\r\n\r\n\t\t&.invalid {\r\n\t\t\t.cart-header {\r\n\t\t\t\tmargin: 0 $margin-both;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.cart-goods {\r\n\t\t\tmargin: 10rpx $margin-both;\r\n\t\t\tbackground: #fff;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tposition: relative;\r\n\t\t\tpadding: 30rpx 30rpx 0;\r\n\r\n\t\t\t&:nth-of-type(2) {\r\n\t\t\t\tborder-top-left-radius: $border-radius;\r\n\t\t\t\tborder-top-right-radius: $border-radius;\r\n\t\t\t}\r\n\r\n\t\t\t&:last-child {\r\n\t\t\t\tborder-bottom-left-radius: $border-radius;\r\n\t\t\t\tborder-bottom-right-radius: $border-radius;\r\n\t\t\t\tpadding-bottom: 30rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.goods-wrap {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tpadding-left: 64rpx;\r\n\t\t\t\ttransition: all 0.1s;\r\n\r\n\t\t\t\t&>.iconfont {\r\n\t\t\t\t\tfont-size: 40rpx;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\ttop: 50%;\r\n\t\t\t\t\tleft: 0;\r\n\t\t\t\t\ttransform: translateY(-50%);\r\n\t\t\t\t\ttransition: all 0.2s;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&>.iconyuan_checkbox {\r\n\t\t\t\t\tcolor: $color-disabled;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&.edit {\r\n\t\t\t\t\ttransform: translateX(-70rpx);\r\n\r\n\t\t\t\t\t>.iconfont {\r\n\t\t\t\t\t\topacity: 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.goods-img {\r\n\t\t\t\t\twidth: 90rpx;\r\n\t\t\t\t\theight: 90rpx;\r\n\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t\tborder-radius: $border-radius;\r\n\r\n\t\t\t\t\timage {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\tborder-radius: $border-radius;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.goods-info {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\theight: 260rpx;\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\twidth: calc(100% - 220rpx);\r\n\t\t\t\t\tmargin-top: -4rpx;\r\n\r\n\t\t\t\t\t.goods-name {\r\n\t\t\t\t\t\tdisplay: -webkit-box;\r\n\t\t\t\t\t\t-webkit-box-orient: vertical;\r\n\t\t\t\t\t\t-webkit-line-clamp: 2;\r\n\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\t\tline-height: 1.5;\r\n\t\t\t\t\t\tfont-size: $font-size-base;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.sku {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tline-height: 1;\r\n\t\t\t\t\t\tmargin-top: 8rpx;\r\n\r\n\t\t\t\t\t\t.goods-spec {\r\n\t\t\t\t\t\t\tcolor: $color-tip;\r\n\t\t\t\t\t\t\tfont-size: $font-size-tag;\r\n\t\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\t\t// text-overflow: ellipsis;\r\n\t\t\t\t\t\t\t// white-space: nowrap;\r\n\t\t\t\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\t\t// text {\r\n\t\t\t\t\t\t\t// \tmargin-right: 20rpx;\r\n\t\t\t\t\t\t\t// \t&:last-child {\r\n\t\t\t\t\t\t\t// \t\tmargin-right: 0;\r\n\t\t\t\t\t\t\t// \t}\r\n\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.goods-sub-section {\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\tleft: 0;\r\n\t\t\t\t\t\tbottom: 0;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t\twidth: 100%;\r\n\r\n\t\t\t\t\t\t.unit {\r\n\t\t\t\t\t\t\tfont-size: $font-size-tag;\r\n\t\t\t\t\t\t\tmargin-right: 4rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.uni-numbox {\r\n\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\tright: 0;\r\n\t\t\t\t\t\t\tbottom: 8rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.goods-price {\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\t\t\tfont-weight: bold;\r\n\r\n\t\t\t\t\t\t\t.bottom-price {\r\n\t\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\t\tfont-size: $font-size-toolbar;\r\n\r\n\t\t\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\t\t\twidth: 56rpx;\r\n\t\t\t\t\t\t\t\t\theight: 22rpx;\r\n\t\t\t\t\t\t\t\t\tmargin-left: 6rpx;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.item-del {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\twidth: 0;\r\n\t\t\t\theight: 90%;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tright: 0;\r\n\t\t\t\ttop: 20rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\ttransition: all 0.3s;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\tfont-size: $font-size-tag;\r\n\r\n\t\t\t\t&.show {\r\n\t\t\t\t\twidth: 90rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.invalid-goods {\r\n\t\t\t.invalid-mark {\r\n\t\t\t\tcolor: $color-tip;\r\n\t\t\t\tpadding: 6rpx 16rpx;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tfont-size: $font-size-goods-tag;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.iphone12 {\r\n\t\tpadding-bottom: constant(safe-area-inset-bottom);\r\n\t\tpadding-bottom: env(safe-area-inset-bottom);\r\n\t}\r\n\r\n\t.cart-bottom {\r\n\t\tposition: fixed;\r\n\t\tz-index: 5;\r\n\t\twidth: 100vw;\r\n\t\theight: 100rpx;\r\n\t\tbackground: #fff;\r\n\t\tbottom: var(--window-bottom);\r\n\t\toverflow: hidden;\r\n\t\tdisplay: flex;\r\n\t\tbottom: 56rpx;\r\n\t\tz-index: 9;\r\n\r\n\t\t.all-election {\r\n\t\t\theight: 100rpx;\r\n\t\t\tposition: relative;\r\n\t\t\tdisplay: inline-block;\r\n\r\n\t\t\t&>.iconfont {\r\n\t\t\t\tfont-size: 40rpx;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 50%;\r\n\t\t\t\tleft: 30rpx;\r\n\t\t\t\ttransform: translateY(-50%);\r\n\t\t\t}\r\n\r\n\t\t\t&>.iconyuan_checkbox {\r\n\t\t\t\tcolor: $color-disabled;\r\n\t\t\t}\r\n\r\n\t\t\t&>text {\r\n\t\t\t\tmargin-left: 56rpx;\r\n\t\t\t\tline-height: 100rpx;\r\n\t\t\t\tpadding-left: 30rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.settlement-info {\r\n\t\t\tflex: 1;\r\n\t\t\ttext-align: right;\r\n\t\t\tpadding-right: 10rpx;\r\n\t\t\tline-height: 100rpx;\r\n\r\n\t\t\ttext {\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.action-btn {\r\n\t\t\twidth: 200rpx;\r\n\t\t\theight: 100rpx;\r\n\t\t\tline-height: 100rpx;\r\n\t\t\tborder-radius: 0;\r\n\t\t\tmargin: 0;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\tmargin-right: 20rpx;\r\n\r\n\t\t\tbutton {\r\n\t\t\t\theight: 70rpx;\r\n\t\t\t\tline-height: 70rpx;\r\n\t\t\t\tfont-size: $font-size-base;\r\n\r\n\t\t\t\t&.delete {\r\n\t\t\t\t\theight: 50rpx;\r\n\t\t\t\t\tline-height: 46rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.cart-bottom.active {\r\n\t\tbottom: calc(constant(safe-area-inset-bottom) + 55px) !important;\r\n\t\tbottom: calc(env(safe-area-inset-bottom) + 55px) !important;\r\n\t}\r\n\r\n\t.cart-empty {\r\n\t\ttext-align: center;\r\n\t\tpadding: 140rpx $padding 80rpx $padding;\r\n\r\n\t\timage {\r\n\t\t\twidth: 63%;\r\n\t\t\theight: 450rpx;\r\n\t\t}\r\n\r\n\t\tbutton {\r\n\t\t\tmin-width: 300rpx;\r\n\t\t\tmargin-top: 100rpx;\r\n\t\t\theight: 70rpx;\r\n\t\t\tline-height: 70rpx !important;\r\n\t\t\tfont-size: $font-size-base;\r\n\t\t}\r\n\t}\r\n</style>\r\n<style scoped>\r\n\t/deep/ .reward-popup .uni-popup__wrapper-box {\r\n\t\tbackground: none !important;\r\n\t\tmax-width: unset !important;\r\n\t\tmax-height: unset !important;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1651682665252\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=style&index=1&id=05a48acd&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=style&index=1&id=05a48acd&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1651682659158\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}